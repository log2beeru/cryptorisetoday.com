<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Private Chat</title>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<style>
body{margin:0;font-family:Arial;background:#0b141a;color:#fff}
#login{height:100vh;display:flex;align-items:center;justify-content:center}
#chat{display:none;height:100vh;flex-direction:column}
.box{background:#202c33;padding:20px;border-radius:10px;width:90%;max-width:360px}
.header{background:#202c33;padding:10px;text-align:center}
.messages{flex:1;padding:10px;overflow-y:auto}
.bubble{max-width:70%;padding:8px 12px;margin:6px;border-radius:8px}
.me{background:#005c4b;margin-left:auto}
.other{background:#202c33}
.footer{display:flex;padding:8px;background:#202c33}
.footer input{flex:1;padding:10px;border:none;border-radius:20px}
.footer button{margin-left:6px;border:none;padding:10px 14px;border-radius:50%;background:#00a884}
</style>
</head>

<body>

<div id="login">
  <div class="box">
    <h3>Private Chat</h3>
    <input id="pass" type="password" placeholder="Password"
      style="width:100%;padding:10px">
    <br><br>
    <button id="enter"
      style="width:100%;padding:10px;background:#00a884;border:none">
      Enter
    </button>
  </div>
</div>

<div id="chat">
  <div class="header">Private Chat</div>
  <div class="messages" id="messages"></div>
  <div class="footer">
    <input id="msg" placeholder="Type message">
    <button id="send">âž¤</button>
  </div>
</div>

<script>
/* FIREBASE CONFIG */
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  databaseURL: "https://YOUR_PROJECT-default-rtdb.firebaseio.com",
  projectId: "YOUR_PROJECT"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

/* FIXED SETTINGS */
const PASSWORD = "12345";
const ROOM_PATH = "chats/fixed_private_room"; // ðŸ”´ SAME FOR ALL USERS

const userId = "user_" + Math.floor(Math.random()*100000);
const roomRef = db.ref(ROOM_PATH);

/* ELEMENTS */
const login = document.getElementById("login");
const chat = document.getElementById("chat");
const pass = document.getElementById("pass");
const messages = document.getElementById("messages");
const msg = document.getElementById("msg");

/* ENTER */
document.getElementById("enter").addEventListener("click", ()=>{
  if(pass.value !== PASSWORD){
    alert("Wrong password");
    return;
  }

  login.style.display="none";
  chat.style.display="flex";

  // ðŸ”´ LISTENER A
